"use strict";(self.webpackChunksandbox_phone=self.webpackChunksandbox_phone||[]).push([[2981,1977],{91977:(e,t,n)=>{n.r(t),n.d(t,{acceptCall:()=>l,dismissIncoming:()=>o,endCall:()=>r,readCalls:()=>c,showIncoming:()=>i});var a=n(69042),l=function(e){return function(t){a.Z.send("AcceptCall",e)}},r=function(){return function(e){a.Z.send("EndCall",null)}},c=function(){return function(e){a.Z.send("ReadCalls",null)}},o=function(){return function(e){e({type:"DISMISS_INCOMING"})}},i=function(){return function(e){e({type:"SHOW_INCOMING"})}}},72981:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var a=n(67294),l=n(86706),r=n(89250),c=n(67109),o=n(72642),i=(n(15725),n(6867),n(94235)),u=n(67814),s=n(94803),m=n.n(s),d=n(91977);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,l,r,c,o=[],i=!0,u=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(a=r.call(n)).done)&&(o.push(a.value),o.length!==t);i=!0);}catch(e){u=!0,l=e}finally{try{if(!i&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(u)throw l}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var v=(0,i.Z)((function(e){return{call:{display:"flex",flexDirection:"column",padding:16,height:"100%",background:e.palette.secondary.main},callInfo:{width:"100%",marginTop:32},caller:{width:"100%","& .inner":{width:"100%",textAlign:"center","& .details":{marginTop:16,marginBottom:16,"& span":{display:"block",fontSize:26,fontWeight:"bold"},"& small":{marginTop:4,display:"block",fontSize:18,color:e.palette.text.alt}}}},avatar:{height:100,width:100,border:"2px solid transparent",margin:"auto",fontSize:55,"&.favorite":{borderColor:"gold"}},duration:{textAlign:"center",fontSize:22,fontWeight:"bold",color:e.palette.success.main},keypadBtn:{textAlign:"center",height:75,fontSize:"24px",width:"100%","&.end":{color:e.palette.error.light,"&:hover":{backgroundColor:"".concat(e.palette.error.dark,"80")}},"&.accept":{color:e.palette.success.light,"&:hover":{backgroundColor:"".concat(e.palette.success.dark,"80")}}},spacer:{flexGrow:1},actions:{display:"flex"}}}));const h=(0,l.$j)(null,{acceptCall:d.acceptCall,endCall:d.endCall})((function(e){var t=v(),n=(0,r.s0)(),i=(0,r.UO)().number,s=((0,l.v9)((function(e){return e.phone.limited})),(0,l.v9)((function(e){return e.call.callLimited}))),d=(0,l.v9)((function(e){return e.data.data.contacts})),p=(0,l.v9)((function(e){return e.call.call})),h=d.filter((function(e){return e.number===i}))[0],E=f((0,a.useState)(!1),2),g=E[0],b=E[1];(0,a.useEffect)((function(){b(null)}),[]),(0,a.useEffect)((function(){var e=null;return null==p&&(b(!0),e=setTimeout((function(){n(-1)}),2500)),function(){clearTimeout(e)}}),[p]);var y=function(){e.acceptCall(p.number)},C=function(t){null==p||g||e.endCall()};return a.createElement("div",{className:t.call},a.createElement("div",{className:t.callInfo},a.createElement("div",{className:t.caller},null==h||s?a.createElement("div",{className:"inner"},a.createElement(c.Z,{className:t.avatar},"#"),a.createElement("div",{className:"details"},a.createElement("span",null,"Unknown Number"),a.createElement("small",null,i))):null!=h.avatar&&""!==h.avatar?a.createElement("div",{className:"inner"},a.createElement(c.Z,{className:"".concat(t.avatar," ").concat(h.favorite?"favorite":""),src:h.avatar,alt:h.name.charAt(0)}),a.createElement("div",{className:"details"},a.createElement("span",null,h.name),a.createElement("small",null,i))):a.createElement("div",{className:"inner"},a.createElement(c.Z,{className:"".concat(t.avatar," ").concat(h.favorite?"favorite":""),style:{background:h.color}},h.name.charAt(0)),a.createElement("div",{className:"details"},a.createElement("span",null,h.name),a.createElement("small",null,i)))),a.createElement("div",{className:t.duration},g?a.createElement("small",null,"Call Ended"):a.createElement("small",null,null!=p?p.state>0?a.createElement(m(),{unix:!0,durationFromNow:!0,interval:1e3,format:"hh:mm:ss",date:p.start}):a.createElement("span",null,"Calling"):a.createElement("span",null,"Pending")))),a.createElement("div",{className:t.spacer}),a.createElement("div",{className:t.actions},a.createElement(o.Z,{className:"".concat(t.keypadBtn," end"),onClick:C,disabled:null==p},a.createElement(u.G,{icon:["far","phone-hangup"],style:{fontSize:36}})),Boolean(p)&&1==p.state&&a.createElement(o.Z,{className:"".concat(t.keypadBtn," accept"),onClick:y,disabled:null==p},a.createElement(u.G,{icon:["far","phone-flip"],style:{fontSize:36}}))))}))}}]);